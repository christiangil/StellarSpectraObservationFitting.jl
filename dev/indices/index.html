<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Everything else · StellarSpectraObservationFitting.jl</title><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.045/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.13.24/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="StellarSpectraObservationFitting.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">StellarSpectraObservationFitting.jl</a></span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../gettingstarted/">Getting started</a></li><li><span class="tocitem">User&#39;s guide</span><ul><li><a class="tocitem" href="../data/">Data preparation</a></li><li><input class="collapse-toggle" id="menuitem-3-2" type="checkbox"/><label class="tocitem" for="menuitem-3-2"><span class="docs-label">Creating a SSOF model</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../init/">Initialization and model selection</a></li><li><a class="tocitem" href="../opt/">Optimization</a></li></ul></li><li><a class="tocitem" href="../prior/">Regularization</a></li><li><a class="tocitem" href="../error/">Model error estimation</a></li></ul></li><li><span class="tocitem">Various other functions</span><ul><li><a class="tocitem" href="../continuum/">Data preprocessing</a></li><li><a class="tocitem" href="../empca/">(D)EMPCA</a></li><li><a class="tocitem" href="../general/">Utility functions</a></li><li class="is-active"><a class="tocitem" href>Everything else</a></li></ul></li><li><a class="tocitem" href="../LICENSE/">LICENSE</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Various other functions</a></li><li class="is-active"><a href>Everything else</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Everything else</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/master/docs/src/indices.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Index"><a class="docs-heading-anchor" href="#Index">Index</a><a id="Index-1"></a><a class="docs-heading-anchor-permalink" href="#Index" title="Permalink"></a></h1><ul><li><a href="#StellarSpectraObservationFitting.Adam"><code>StellarSpectraObservationFitting.Adam</code></a></li><li><a href="#StellarSpectraObservationFitting.AdamState"><code>StellarSpectraObservationFitting.AdamState</code></a></li><li><a href="#StellarSpectraObservationFitting.AdamSubWorkspace"><code>StellarSpectraObservationFitting.AdamSubWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.BaseLinearModel"><code>StellarSpectraObservationFitting.BaseLinearModel</code></a></li><li><a href="#StellarSpectraObservationFitting.FrozenTelWorkspace"><code>StellarSpectraObservationFitting.FrozenTelWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.FullLinearModel"><code>StellarSpectraObservationFitting.FullLinearModel</code></a></li><li><a href="../data/#StellarSpectraObservationFitting.GenericData"><code>StellarSpectraObservationFitting.GenericData</code></a></li><li><a href="#StellarSpectraObservationFitting.GenericDatum"><code>StellarSpectraObservationFitting.GenericDatum</code></a></li><li><a href="../data/#StellarSpectraObservationFitting.LSFData"><code>StellarSpectraObservationFitting.LSFData</code></a></li><li><a href="#StellarSpectraObservationFitting.ModelWorkspace-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.ModelWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.OptimSubWorkspace"><code>StellarSpectraObservationFitting.OptimSubWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.OptimTelStarWorkspace"><code>StellarSpectraObservationFitting.OptimTelStarWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.OptimTotalWorkspace"><code>StellarSpectraObservationFitting.OptimTotalWorkspace</code></a></li><li><a href="#StellarSpectraObservationFitting.OrderModel-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.OrderModel</code></a></li><li><a href="#StellarSpectraObservationFitting.OrderModelDPCA"><code>StellarSpectraObservationFitting.OrderModelDPCA</code></a></li><li><a href="#StellarSpectraObservationFitting.OrderModelWobble"><code>StellarSpectraObservationFitting.OrderModelWobble</code></a></li><li><a href="#StellarSpectraObservationFitting.Output-Tuple{StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.Output</code></a></li><li><a href="#StellarSpectraObservationFitting.OutputDPCA"><code>StellarSpectraObservationFitting.OutputDPCA</code></a></li><li><a href="#StellarSpectraObservationFitting.OutputWobble"><code>StellarSpectraObservationFitting.OutputWobble</code></a></li><li><a href="#StellarSpectraObservationFitting.StellarInterpolationHelper"><code>StellarSpectraObservationFitting.StellarInterpolationHelper</code></a></li><li><a href="#StellarSpectraObservationFitting.Submodel"><code>StellarSpectraObservationFitting.Submodel</code></a></li><li><a href="#StellarSpectraObservationFitting.TemplateModel"><code>StellarSpectraObservationFitting.TemplateModel</code></a></li><li><a href="#StellarSpectraObservationFitting.TotalWorkspace"><code>StellarSpectraObservationFitting.TotalWorkspace</code></a></li><li><a href="../empca/#ExpectationMaximizationPCA.EMPCA!-Tuple{StellarSpectraObservationFitting.FullLinearModel, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>ExpectationMaximizationPCA.EMPCA!</code></a></li><li><a href="#ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, SubArray}} where T&lt;:Real"><code>ParameterHandling.flatten</code></a></li><li><a href="#ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, StellarSpectraObservationFitting.LinearModel}} where T&lt;:Real"><code>ParameterHandling.flatten</code></a></li><li><a href="#StellarSpectraObservationFitting.AdamState!-Tuple{StellarSpectraObservationFitting.AdamState, Any, Any}"><code>StellarSpectraObservationFitting.AdamState!</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.DEMPCA!-Union{Tuple{T}, Tuple{AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T, AbstractVector{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Vector{T}}} where T&lt;:Real"><code>StellarSpectraObservationFitting.DEMPCA!</code></a></li><li><a href="#StellarSpectraObservationFitting.D_to_rv-Tuple{Any}"><code>StellarSpectraObservationFitting.D_to_rv</code></a></li><li><a href="#StellarSpectraObservationFitting.L1-Tuple{Any}"><code>StellarSpectraObservationFitting.L1</code></a></li><li><a href="#StellarSpectraObservationFitting.L2-Tuple{Any}"><code>StellarSpectraObservationFitting.L2</code></a></li><li><a href="#StellarSpectraObservationFitting.L∞-Tuple{VecOrMat{var&quot;#s55&quot;} where var&quot;#s55&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.L∞</code></a></li><li><a href="#StellarSpectraObservationFitting.Output!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.Output!</code></a></li><li><a href="#StellarSpectraObservationFitting._OSW_optimize!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, Optim.Options}"><code>StellarSpectraObservationFitting._OSW_optimize!</code></a></li><li><a href="#StellarSpectraObservationFitting._eval_lm-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting._eval_lm</code></a></li><li><a href="#StellarSpectraObservationFitting._eval_lm_vec-Tuple{StellarSpectraObservationFitting.OrderModel, Any}"><code>StellarSpectraObservationFitting._eval_lm_vec</code></a></li><li><a href="#StellarSpectraObservationFitting._eval_regularization-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting._eval_regularization</code></a></li><li><a href="#StellarSpectraObservationFitting._loss_recalc_rv_basis-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting._loss_recalc_rv_basis</code></a></li><li><a href="#StellarSpectraObservationFitting._lower_inds!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractVector{var&quot;#s14&quot;} where var&quot;#s14&quot;&lt;:Real, Any, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting._lower_inds!</code></a></li><li><a href="#StellarSpectraObservationFitting._shift_log_λ_model-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting._shift_log_λ_model</code></a></li><li><a href="#StellarSpectraObservationFitting._spectra_interp_gp!-Tuple{AbstractVector{T} where T, Any, AbstractVector{T} where T, Any, Any}"><code>StellarSpectraObservationFitting._spectra_interp_gp!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting._trapzx2-NTuple{4, Real}"><code>StellarSpectraObservationFitting._trapzx2</code></a></li><li><a href="../general/#StellarSpectraObservationFitting._vander-Tuple{AbstractVector{T} where T, Int64}"><code>StellarSpectraObservationFitting._vander</code></a></li><li><a href="#StellarSpectraObservationFitting.affected_pixels-Tuple{AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.affected_pixels</code></a></li><li><a href="#StellarSpectraObservationFitting.affected_pixels!-Tuple{Vector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.affected_pixels!</code></a></li><li><a href="#StellarSpectraObservationFitting.aic-Tuple{Int64, Real}"><code>StellarSpectraObservationFitting.aic</code></a></li><li><a href="#StellarSpectraObservationFitting.aicc-Tuple{Int64, Real, Int64}"><code>StellarSpectraObservationFitting.aicc</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.bad_pixel_flagger-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.bad_pixel_flagger</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.banded_inds-Tuple{Int64, Int64, Int64}"><code>StellarSpectraObservationFitting.banded_inds</code></a></li><li><a href="#StellarSpectraObservationFitting.bic-Tuple{Int64, Real, Int64}"><code>StellarSpectraObservationFitting.bic</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.bounds_generator-Tuple{AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.bounds_generator</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.bounds_generator!-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.bounds_generator!</code></a></li><li><a href="#StellarSpectraObservationFitting.build_gp-Tuple{NamedTuple}"><code>StellarSpectraObservationFitting.build_gp</code></a></li><li><a href="#StellarSpectraObservationFitting.calculate_initial_model-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.calculate_initial_model</code></a></li><li><a href="../init/#StellarSpectraObservationFitting.calculate_initial_model"><code>StellarSpectraObservationFitting.calculate_initial_model</code></a></li><li><a href="#StellarSpectraObservationFitting.check_converged-Tuple{StellarSpectraObservationFitting.AdamState, Real, Real, Real}"><code>StellarSpectraObservationFitting.check_converged</code></a></li><li><a href="#StellarSpectraObservationFitting.check_for_valid_regularization-Tuple{Dict{Symbol, var&quot;#s157&quot;} where var&quot;#s157&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.check_for_valid_regularization</code></a></li><li><a href="#StellarSpectraObservationFitting.choose_reg_and_ℓ-Tuple{Vector{Symbol}, StellarSpectraObservationFitting.OrderModel, Symbol, Vector{var&quot;#s156&quot;} where var&quot;#s156&quot;&lt;:Real, Vector{var&quot;#s155&quot;} where var&quot;#s155&quot;&lt;:Real, Int64}"><code>StellarSpectraObservationFitting.choose_reg_and_ℓ</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.clip_vector!-Tuple{Vector{T} where T}"><code>StellarSpectraObservationFitting.clip_vector!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.continuum_normalize!-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.continuum_normalize!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.copy_dict!-Tuple{Dict, Dict}"><code>StellarSpectraObservationFitting.copy_dict!</code></a></li><li><a href="#StellarSpectraObservationFitting.copy_reg!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.copy_reg!</code></a></li><li><a href="#StellarSpectraObservationFitting.create_λ_template-Tuple{AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.create_λ_template</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.doppler_component-Union{Tuple{T}, Tuple{AbstractVector{T}, Vector{T}}} where T&lt;:Real"><code>StellarSpectraObservationFitting.doppler_component</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.doppler_component_AD-Union{Tuple{T}, Tuple{Vector{T}, Vector{T}}} where T&lt;:Real"><code>StellarSpectraObservationFitting.doppler_component_AD</code></a></li><li><a href="#StellarSpectraObservationFitting.downsize-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}"><code>StellarSpectraObservationFitting.downsize</code></a></li><li><a href="#StellarSpectraObservationFitting.downsize_view-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}"><code>StellarSpectraObservationFitting.downsize_view</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.est_∇-Tuple{Function, Vector{var&quot;#s15&quot;} where var&quot;#s15&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.est_∇</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_bootstrap-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap</code></a></li><li><a href="../error/#StellarSpectraObservationFitting.estimate_σ_bootstrap"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_bootstrap_helper!-Tuple{AbstractMatrix{T} where T, Any, Any, Int64, StellarSpectraObservationFitting.ModelWorkspace, AbstractMatrix{T} where T, Int64}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap_helper!</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_bootstrap_reducer-Tuple{AbstractArray, AbstractArray, Function}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap_reducer</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_curvature-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.estimate_σ_curvature</code></a></li><li><a href="../error/#StellarSpectraObservationFitting.estimate_σ_curvature"><code>StellarSpectraObservationFitting.estimate_σ_curvature</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_curvature_helper-Tuple{AbstractVecOrMat{T} where T, Function}"><code>StellarSpectraObservationFitting.estimate_σ_curvature_helper</code></a></li><li><a href="#StellarSpectraObservationFitting.estimate_σ_curvature_helper_finalizer!-Tuple{AbstractVecOrMat{T} where T, AbstractVector{T} where T, AbstractVector{T} where T, Int64}"><code>StellarSpectraObservationFitting.estimate_σ_curvature_helper_finalizer!</code></a></li><li><a href="#StellarSpectraObservationFitting.eval_regularization-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.eval_regularization</code></a></li><li><a href="#StellarSpectraObservationFitting.fill_OrderModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel, Any, Any}"><code>StellarSpectraObservationFitting.fill_OrderModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.fill_StarModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.fill_StarModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.fill_TelModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.LinearModel}"><code>StellarSpectraObservationFitting.fill_TelModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.finalize_scores!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores!</code></a></li><li><a href="#StellarSpectraObservationFitting.finalize_scores!-Tuple{Function, StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores!</code></a></li><li><a href="#StellarSpectraObservationFitting.finalize_scores_setup-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores_setup</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.find_modes-Union{Tuple{Vector{T}}, Tuple{T}} where T&lt;:Real"><code>StellarSpectraObservationFitting.find_modes</code></a></li><li><a href="#StellarSpectraObservationFitting.first_iterate!-Tuple{Function, Real, Vector{var&quot;#s16&quot;} where var&quot;#s16&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.first_iterate!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.fit_continuum-Tuple{AbstractVector{T} where T, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.fit_continuum</code></a></li><li><a href="#StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.fit_regularization!</code></a></li><li><a href="#StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.fit_regularization!</code></a></li><li><a href="../prior/#StellarSpectraObservationFitting.fit_regularization!"><code>StellarSpectraObservationFitting.fit_regularization!</code></a></li><li><a href="#StellarSpectraObservationFitting.fit_regularization_helper!-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T, Real, Real, Real}"><code>StellarSpectraObservationFitting.fit_regularization_helper!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.flat_normalize!-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.flat_normalize!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.flatten_ranges-Tuple{AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.flatten_ranges</code></a></li><li><a href="#StellarSpectraObservationFitting.flip_feature_vectors!-Tuple{StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.flip_feature_vectors!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.fwhm_2_σ-Tuple{Real}"><code>StellarSpectraObservationFitting.fwhm_2_σ</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.general_lst_sq-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractVector{T} where T, Union{LinearAlgebra.Cholesky, LinearAlgebra.Diagonal}}} where T&lt;:Real"><code>StellarSpectraObservationFitting.general_lst_sq</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.general_lst_sq_f-Tuple{AbstractVector{T} where T, Any, Int64}"><code>StellarSpectraObservationFitting.general_lst_sq_f</code></a></li><li><a href="#StellarSpectraObservationFitting.get_marginal_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.get_marginal_GP</code></a></li><li><a href="#StellarSpectraObservationFitting.get_mean_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.get_mean_GP</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_Δℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_Δℓ_coefficients-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_coefficients</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_Δℓ_helper_K-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_helper_K</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_Δℓ_helper_γ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_helper_γ</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_ℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_ℓ_nabla-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ_nabla</code></a></li><li><a href="#StellarSpectraObservationFitting.gp_ℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ_precalc</code></a></li><li><a href="#StellarSpectraObservationFitting.improve_initial_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.improve_initial_model!</code></a></li><li><a href="#StellarSpectraObservationFitting.improve_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.improve_model!</code></a></li><li><a href="../opt/#StellarSpectraObservationFitting.improve_model!"><code>StellarSpectraObservationFitting.improve_model!</code></a></li><li><a href="#StellarSpectraObservationFitting.insert_and_dedup!-Tuple{Vector{T} where T, Any}"><code>StellarSpectraObservationFitting.insert_and_dedup!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.int2ind-Tuple{AbstractVecOrMat{T} where T, Int64}"><code>StellarSpectraObservationFitting.int2ind</code></a></li><li><a href="#StellarSpectraObservationFitting.intra_night_std-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.intra_night_std</code></a></li><li><a href="#StellarSpectraObservationFitting.iterate!-Tuple{AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.iterate!</code></a></li><li><a href="#StellarSpectraObservationFitting.log_lm-Tuple{StellarSpectraObservationFitting.TemplateModel}"><code>StellarSpectraObservationFitting.log_lm</code></a></li><li><a href="#StellarSpectraObservationFitting.loss_func-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.loss_func</code></a></li><li><a href="#StellarSpectraObservationFitting.loss_funcs_frozen_tel-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_frozen_tel</code></a></li><li><a href="#StellarSpectraObservationFitting.loss_funcs_telstar-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_telstar</code></a></li><li><a href="#StellarSpectraObservationFitting.loss_funcs_total-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_total</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.make_template-Tuple{Matrix{T} where T, Matrix{T} where T}"><code>StellarSpectraObservationFitting.make_template</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.make_template-Tuple{Matrix{T} where T}"><code>StellarSpectraObservationFitting.make_template</code></a></li><li><a href="#StellarSpectraObservationFitting.mask!-Tuple{AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.mask!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_bad_edges!-NTuple{4, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.mask_bad_edges!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_bad_pixel!-NTuple{4, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.mask_bad_pixel!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_high_pixels!-Tuple{AbstractVector{T} where T, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.mask_high_pixels!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_infinite_pixels!-NTuple{4, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.mask_infinite_pixels!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_isolated_pixels!-Tuple{AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.mask_isolated_pixels!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.mask_low_pixels!-Tuple{AbstractVector{T} where T, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.mask_low_pixels!</code></a></li><li><a href="#StellarSpectraObservationFitting.mask_stellar_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}"><code>StellarSpectraObservationFitting.mask_stellar_feature!</code></a></li><li><a href="#StellarSpectraObservationFitting.mask_stellar_pixel!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Int64}"><code>StellarSpectraObservationFitting.mask_stellar_pixel!</code></a></li><li><a href="#StellarSpectraObservationFitting.mask_telluric_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}"><code>StellarSpectraObservationFitting.mask_telluric_feature!</code></a></li><li><a href="#StellarSpectraObservationFitting.model_prior-Tuple{Any, StellarSpectraObservationFitting.OrderModel, Symbol}"><code>StellarSpectraObservationFitting.model_prior</code></a></li><li><a href="#StellarSpectraObservationFitting.model_s_prior-Tuple{Any, Dict}"><code>StellarSpectraObservationFitting.model_s_prior</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.multiple_append!-Union{Tuple{T}, Tuple{Vector{T}, Vararg{Any, N} where N}} where T&lt;:Real"><code>StellarSpectraObservationFitting.multiple_append!</code></a></li><li><a href="#StellarSpectraObservationFitting.no_tellurics-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.no_tellurics</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.observation_night_inds-Tuple{AbstractVector{var&quot;#s11&quot;} where var&quot;#s11&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.observation_night_inds</code></a></li><li><a href="#StellarSpectraObservationFitting.opt_funcs-Tuple{Function, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.opt_funcs</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.ordinary_lst_sq-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractVector{T} where T}} where T&lt;:Real"><code>StellarSpectraObservationFitting.ordinary_lst_sq</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.ordinary_lst_sq_f-Tuple{AbstractVector{T} where T, Int64}"><code>StellarSpectraObservationFitting.ordinary_lst_sq_f</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.outlier_mask-Tuple{AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.outlier_mask</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.oversamp_interp-Tuple{Real, Real, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.oversamp_interp</code></a></li><li><a href="#StellarSpectraObservationFitting.oversamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.oversamp_interp_helper</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.parse_args-Tuple{Int64, DataType, Any}"><code>StellarSpectraObservationFitting.parse_args</code></a></li><li><a href="../data/#StellarSpectraObservationFitting.process!"><code>StellarSpectraObservationFitting.process!</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.process!-Tuple{Any}"><code>StellarSpectraObservationFitting.process!</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.project_doppler_comp-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.project_doppler_comp</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.project_doppler_comp!-Tuple{AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.project_doppler_comp!</code></a></li><li><a href="#StellarSpectraObservationFitting.ratio_clarifier_string-Tuple{Real}"><code>StellarSpectraObservationFitting.ratio_clarifier_string</code></a></li><li><a href="#StellarSpectraObservationFitting.recalc_total!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.GenericData}"><code>StellarSpectraObservationFitting.recalc_total!</code></a></li><li><a href="#StellarSpectraObservationFitting.remove_lm_score_means!-Tuple{StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.remove_lm_score_means!</code></a></li><li><a href="#StellarSpectraObservationFitting.reset_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.reset_regularization!</code></a></li><li><a href="#StellarSpectraObservationFitting.rm_dict!-Tuple{Dict}"><code>StellarSpectraObservationFitting.rm_dict!</code></a></li><li><a href="#StellarSpectraObservationFitting.rm_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.rm_regularization!</code></a></li><li><a href="#StellarSpectraObservationFitting.rv_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.rv_model</code></a></li><li><a href="#StellarSpectraObservationFitting.rv_to_D-Tuple{Any}"><code>StellarSpectraObservationFitting.rv_to_D</code></a></li><li><a href="#StellarSpectraObservationFitting.rvs-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.rvs</code></a></li><li><a href="#StellarSpectraObservationFitting.scale_α_helper!-Tuple{StellarSpectraObservationFitting.Adam, Real, AbstractVecOrMat{T} where T, Real, Bool}"><code>StellarSpectraObservationFitting.scale_α_helper!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.searchsortednearest-Tuple{AbstractVector{T} where T&lt;:Real, Real}"><code>StellarSpectraObservationFitting.searchsortednearest</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.self_cor-Tuple{AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.self_cor</code></a></li><li><a href="#StellarSpectraObservationFitting.shared_attention-Tuple{Any}"><code>StellarSpectraObservationFitting.shared_attention</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.simple_derivative-Tuple{AbstractVector{var&quot;#s54&quot;} where var&quot;#s54&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.simple_derivative</code></a></li><li><a href="../empca/#StellarSpectraObservationFitting.simple_derivative_AD-Tuple{Vector{var&quot;#s55&quot;} where var&quot;#s55&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.simple_derivative_AD</code></a></li><li><a href="../continuum/#StellarSpectraObservationFitting.snap-Tuple{AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.snap</code></a></li><li><a href="#StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, StellarSpectraObservationFitting.StellarInterpolationHelper}"><code>StellarSpectraObservationFitting.spectra_interp</code></a></li><li><a href="#StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractVector{T} where T, SparseArrays.SparseMatrixCSC}"><code>StellarSpectraObservationFitting.spectra_interp</code></a></li><li><a href="#StellarSpectraObservationFitting.speed_up_iterate!-Tuple{Function, Vector{var&quot;#s17&quot;} where var&quot;#s17&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.speed_up_iterate!</code></a></li><li><a href="#StellarSpectraObservationFitting.star_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.star_model</code></a></li><li><a href="#StellarSpectraObservationFitting.star_prior-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.star_prior</code></a></li><li><a href="#StellarSpectraObservationFitting.tel_model-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.tel_model</code></a></li><li><a href="#StellarSpectraObservationFitting.tel_prior-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.tel_prior</code></a></li><li><a href="#StellarSpectraObservationFitting.total_length-Tuple{StellarSpectraObservationFitting.AdamWorkspace}"><code>StellarSpectraObservationFitting.total_length</code></a></li><li><a href="#StellarSpectraObservationFitting.total_model-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting.total_model</code></a></li><li><a href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.AdamWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTelStarWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTotalWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.train_SubModel!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}"><code>StellarSpectraObservationFitting.train_SubModel!</code></a></li><li><a href="#StellarSpectraObservationFitting.train_rvs_optim!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, AbstractVector{T} where T, Function}"><code>StellarSpectraObservationFitting.train_rvs_optim!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.trapz_small-Tuple{Real, Real, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.trapz_small</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.trapz_small-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.trapz_small</code></a></li><li><a href="#StellarSpectraObservationFitting.undersamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.undersamp_interp_helper</code></a></li><li><a href="#StellarSpectraObservationFitting.update!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}"><code>StellarSpectraObservationFitting.update!</code></a></li><li><a href="#StellarSpectraObservationFitting.update_interpolation_locations!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.update_interpolation_locations!</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.vector_zero-Tuple{AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.vector_zero</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.wavenumber_to_Å-Tuple{Real}"><code>StellarSpectraObservationFitting.wavenumber_to_Å</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.weighted_mean-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.weighted_mean</code></a></li><li><a href="#StellarSpectraObservationFitting.zero_regularization-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.zero_regularization</code></a></li><li><a href="../general/#StellarSpectraObservationFitting.Å_to_wavenumber-Tuple{Real}"><code>StellarSpectraObservationFitting.Å_to_wavenumber</code></a></li><li><a href="#StellarSpectraObservationFitting.Δℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.Δℓ_precalc</code></a></li><li><a href="#StellarSpectraObservationFitting.ℓ-Tuple{Real, Real, Int64}"><code>StellarSpectraObservationFitting.ℓ</code></a></li><li><a href="#StellarSpectraObservationFitting.ℓ_prereqs-Tuple{Matrix{T} where T}"><code>StellarSpectraObservationFitting.ℓ_prereqs</code></a></li></ul><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.Adam" href="#StellarSpectraObservationFitting.Adam"><code>StellarSpectraObservationFitting.Adam</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Adam</code></pre><p>Holds information used for Adaptive Moment Estimation optimization</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L248-L252">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.AdamState" href="#StellarSpectraObservationFitting.AdamState"><code>StellarSpectraObservationFitting.AdamState</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AdamState</code></pre><p>Holds diagonstic information on the current state of an ADAM opmitization</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L284-L288">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.AdamSubWorkspace" href="#StellarSpectraObservationFitting.AdamSubWorkspace"><code>StellarSpectraObservationFitting.AdamSubWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">AdamSubWorkspace</code></pre><p>Holds a set of model parameters and the ADAM optimizer and functions used to optimize them</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L378-L382">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.BaseLinearModel" href="#StellarSpectraObservationFitting.BaseLinearModel"><code>StellarSpectraObservationFitting.BaseLinearModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">BaseLinearModel</code></pre><p>A (log) linear model without a mean (either M<em>s or exp(M</em>s)). Used for DPCA models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L359-L364">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.FrozenTelWorkspace" href="#StellarSpectraObservationFitting.FrozenTelWorkspace"><code>StellarSpectraObservationFitting.FrozenTelWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FrozenTelWorkspace</code></pre><p>A workspace to optimize all of the parameters in a SSOF model (except for the tellruc template and features) and data it is to be optimized on</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L621-L625">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.FullLinearModel" href="#StellarSpectraObservationFitting.FullLinearModel"><code>StellarSpectraObservationFitting.FullLinearModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">FullLinearModel</code></pre><p>A (log) linear model including a mean (either μ+M<em>s or μ</em>exp(M*s))</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L332-L336">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.GenericDatum" href="#StellarSpectraObservationFitting.GenericDatum"><code>StellarSpectraObservationFitting.GenericDatum</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">GenericDatum</code></pre><p>Holds a single preprocessed spectrum used to optimize SSOF models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L257-L261">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.ModelWorkspace-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.ModelWorkspace-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.ModelWorkspace</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ModelWorkspace(model, data)</code></pre><p>Create a workspace for optimizing <code>model</code> with <code>data</code> Creates a FrozenTelWorkspace if the model has no telluric feature vectors and an empty telluric template</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L676-L681">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OptimSubWorkspace" href="#StellarSpectraObservationFitting.OptimSubWorkspace"><code>StellarSpectraObservationFitting.OptimSubWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OptimSubWorkspace</code></pre><p>Holds a set of model parameters and the Optim optimizer and functions used to optimize them</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L797-L801">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OptimTelStarWorkspace" href="#StellarSpectraObservationFitting.OptimTelStarWorkspace"><code>StellarSpectraObservationFitting.OptimTelStarWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OptimTelStarWorkspace</code></pre><p>A workspace to go back and forth optimizing the telluric and stellar parameters then the RVs in a SSOF model and data it is to be optimized on Uses methods in Optim</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L824-L829">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OptimTotalWorkspace" href="#StellarSpectraObservationFitting.OptimTotalWorkspace"><code>StellarSpectraObservationFitting.OptimTotalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OptimTotalWorkspace</code></pre><p>A workspace to optimize all of the parameters in a SSOF model and data it is to be optimized on Uses methods in Optim</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L874-L879">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OrderModel-Tuple{StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.OrderModel-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.OrderModel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">OrderModel(d; kwargs...)</code></pre><p>Constructor for the <code>OrderModel</code>-type objects (SSOF model for a set of 1D spectra)</p><p><strong>Optional arguments</strong></p><ul><li><code>instrument::String=&quot;None&quot;</code>: The name of the instrument(s) the data was taken from. For bookkeeping</li><li><code>order::Int=0</code>: What order (if any) the data was taken from. For bookkeeping</li><li><code>star_str::String=&quot;None&quot;</code>: The name of the star the data was taken from. For bookkeeping</li><li><code>n_comp_tel::Int=5</code>: Amount of telluric feature vectors</li><li><code>n_comp_star::Int=5</code>: The maximum amount of stellar feature vectors</li><li><code>oversamp::Bool=true</code>: Whether or not to integrate the model or do linear interpolation (for the telluric model)</li><li><code>dpca::Bool=false</code>: Whether to use Doppler-constrained PCA or variable interpolation location to determine the RVs</li><li><code>log_λ_gp_star::Real=1/SOAP_gp_params.λ</code>: The log λ lengthscale of the stellar regularization GP</li><li><code>log_λ_gp_tel::Real=1/LSF_gp_params.λ</code>: The log λ lengthscale of the telluric regularization GP</li><li><code>tel_log_λ::Union{Nothing,AbstractRange}=nothing</code>: The log</li><li><code>star_log_λ::Union{Nothing,AbstractRange}=nothing</code>: The log λ lengthscale of the telluric regularization GP</li><li><code>kwargs...</code>: kwargs passed to <code>Submodel</code> constructors</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L699-L717">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OrderModelDPCA" href="#StellarSpectraObservationFitting.OrderModelDPCA"><code>StellarSpectraObservationFitting.OrderModelDPCA</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OrderModelDPCA</code></pre><p>SSOF model for a set of 1D spectra using Doppler-constrained PCA to measure the RVs (which are contained in the RV Submodel)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L644-L648">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OrderModelWobble" href="#StellarSpectraObservationFitting.OrderModelWobble"><code>StellarSpectraObservationFitting.OrderModelWobble</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OrderModelWobble</code></pre><p>SSOF model for a set of 1D spectra using linear interpolation of the stellar model to measure the RVs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L670-L674">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.Output-Tuple{StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.Output-Tuple{StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.Output</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Output(om, d)</code></pre><p>Calculates the current outputs for the models at the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1312-L1316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OutputDPCA" href="#StellarSpectraObservationFitting.OutputDPCA"><code>StellarSpectraObservationFitting.OutputDPCA</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OutputDPCA</code></pre><p>Holds the current outputs for the models at the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1291-L1295">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.OutputWobble" href="#StellarSpectraObservationFitting.OutputWobble"><code>StellarSpectraObservationFitting.OutputWobble</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">OutputWobble</code></pre><p>Holds the current outputs for the models at the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1356-L1360">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.StellarInterpolationHelper" href="#StellarSpectraObservationFitting.StellarInterpolationHelper"><code>StellarSpectraObservationFitting.StellarInterpolationHelper</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">StellarInterpolationHelper</code></pre><p>A linear interpolation holding information to interpolate the stellar model shifted by an RV to the data</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L81-L85">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.Submodel" href="#StellarSpectraObservationFitting.Submodel"><code>StellarSpectraObservationFitting.Submodel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">Submodel</code></pre><p>Holds information on the wavelengths, LTISDE representaiton for the GP reguarlization term, and linear model for a SSOF model component</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L487-L491">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.TemplateModel" href="#StellarSpectraObservationFitting.TemplateModel"><code>StellarSpectraObservationFitting.TemplateModel</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TemplateModel</code></pre><p>A constant model (when there are no feature vectors)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L383-L387">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.TotalWorkspace" href="#StellarSpectraObservationFitting.TotalWorkspace"><code>StellarSpectraObservationFitting.TotalWorkspace</code></a> — <span class="docstring-category">Type</span></header><section><div><pre><code class="language-julia hljs">TotalWorkspace</code></pre><p>A workspace to optimize all of the parameters in a SSOF model and data it is to be optimized on Uses our custom implementation of ADAM</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L568-L573">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, StellarSpectraObservationFitting.LinearModel}} where T&lt;:Real" href="#ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, StellarSpectraObservationFitting.LinearModel}} where T&lt;:Real"><code>ParameterHandling.flatten</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">flatten([eltype=Real], x::LinearModel)</code></pre><p>Returns a &quot;flattened&quot; representation of <code>x::LinearModel</code> as a vector of vectors and a function <code>unflatten</code> that takes a vector of reals of the same length and returns a LinearModel object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/flatten.jl#L6-L11">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, SubArray}} where T&lt;:Real" href="#ParameterHandling.flatten-Union{Tuple{T}, Tuple{Type{T}, SubArray}} where T&lt;:Real"><code>ParameterHandling.flatten</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">flatten([eltype=Real], x::SubArray)</code></pre><p>Returns a &quot;flattened&quot; representation of <code>x::SubArray</code> as a vector and a function <code>unflatten</code> that takes a vector of reals of the same length and returns an Array object</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/flatten.jl#L21-L26">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.AdamState!-Tuple{StellarSpectraObservationFitting.AdamState, Any, Any}" href="#StellarSpectraObservationFitting.AdamState!-Tuple{StellarSpectraObservationFitting.AdamState, Any, Any}"><code>StellarSpectraObservationFitting.AdamState!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">AdamState!(as, ℓ, Δ)</code></pre><p>Update <code>as</code> with the next iteration&#39;s loss and gradient</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L355-L359">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.D_to_rv-Tuple{Any}" href="#StellarSpectraObservationFitting.D_to_rv-Tuple{Any}"><code>StellarSpectraObservationFitting.D_to_rv</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">D_to_rv(D)</code></pre><p>Approximately converting a Doppler shift <code>D ≡ log(λ1/λ0)</code> in log-wavelength space to an RV using <code>(λ1-λ0)/λ0 = λ1/λ0 - 1 = e^D - 1 ≈ β = v / c</code> (with an extra negative sign from somewhere)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L26-L30">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.L1-Tuple{Any}" href="#StellarSpectraObservationFitting.L1-Tuple{Any}"><code>StellarSpectraObservationFitting.L1</code></a> — <span class="docstring-category">Method</span></header><section><div><p>L1 norm</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1191">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.L2-Tuple{Any}" href="#StellarSpectraObservationFitting.L2-Tuple{Any}"><code>StellarSpectraObservationFitting.L2</code></a> — <span class="docstring-category">Method</span></header><section><div><p>L2 norm</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1193">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.L∞-Tuple{VecOrMat{var&quot;#s55&quot;} where var&quot;#s55&quot;&lt;:Real}" href="#StellarSpectraObservationFitting.L∞-Tuple{VecOrMat{var&quot;#s55&quot;} where var&quot;#s55&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.L∞</code></a> — <span class="docstring-category">Method</span></header><section><div><p>L∞ norm</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1195">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.Output!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.Output!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.Output!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">Output!(o, om, d)</code></pre><p>Recalculates the current outputs for the models at the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1343-L1347">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._OSW_optimize!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, Optim.Options}" href="#StellarSpectraObservationFitting._OSW_optimize!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, Optim.Options}"><code>StellarSpectraObservationFitting._OSW_optimize!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_OSW_optimize!(osw, options)</code></pre><p>Optimize the model in <code>osw</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L920-L924">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._eval_lm-Tuple{Any, Any, Any}" href="#StellarSpectraObservationFitting._eval_lm-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting._eval_lm</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_eval_lm(M, s, μ; log_lm=false)</code></pre><p>Evaluate a LinearModel</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L423-L427">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._eval_lm_vec-Tuple{StellarSpectraObservationFitting.OrderModel, Any}" href="#StellarSpectraObservationFitting._eval_lm_vec-Tuple{StellarSpectraObservationFitting.OrderModel, Any}"><code>StellarSpectraObservationFitting._eval_lm_vec</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_eval_lm_vec(om, v; log_lm=_log_lm_default)</code></pre><p>Evaluate a vectorized version of a linear model in <code>v</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L830-L834">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._eval_regularization-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting._eval_regularization-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting._eval_regularization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_eval_regularization(om, mws, training_inds, testing_inds; kwargs...)</code></pre><p>Training <code>om</code> on the training data, evaluating <code>_loss()</code> on the testing data after optimizing the RVs and scores</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._loss_recalc_rv_basis-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting._loss_recalc_rv_basis-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting._loss_recalc_rv_basis</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_loss_recalc_rv_basis(o, om, d; kwargs...)</code></pre><p><code>_loss()</code> but including an AD-compliant way to recalcuate the Doppler basic vector </p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L58-L62">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._lower_inds!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractVector{var&quot;#s14&quot;} where var&quot;#s14&quot;&lt;:Real, Any, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting._lower_inds!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractVector{var&quot;#s14&quot;} where var&quot;#s14&quot;&lt;:Real, Any, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting._lower_inds!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_lower_inds!(lower_inds, lower_inds_adj, model_log_λ, rvs, log_λ_obs)</code></pre><p>find the <code>model_log_λ</code> indices (incl. RV shifts) that bracket each <code>log_λ_obs</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L47-L51">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._shift_log_λ_model-Tuple{Any, Any, Any}" href="#StellarSpectraObservationFitting._shift_log_λ_model-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting._shift_log_λ_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_shift_log_λ_model(log_λ_obs_from, log_λ_obs_to, log_λ_model_from)</code></pre><p>Getting model log λ in a different reference frame using the shifts in the different <code>log_λ_obs</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L546-L550">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting._spectra_interp_gp!-Tuple{AbstractVector{T} where T, Any, AbstractVector{T} where T, Any, Any}" href="#StellarSpectraObservationFitting._spectra_interp_gp!-Tuple{AbstractVector{T} where T, Any, AbstractVector{T} where T, Any, Any}"><code>StellarSpectraObservationFitting._spectra_interp_gp!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">_spectra_interp_gp!(fluxes, log_λ, flux_obs, var_obs, log_λ_obs; gp_mean=0., gp_base=SOAP_gp, mask_flux=Array{Bool}(undef, length(flux_obs)), mask_var=Array{Bool}(undef, length(flux_obs)))</code></pre><p>Use a GP to interpolate <code>flux_obs</code> observed at <code>log_λ_obs</code> onto <code>log_λ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1032-L1036">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.affected_pixels!-Tuple{Vector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.affected_pixels!-Tuple{Vector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.affected_pixels!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">affected_pixels!(affected1, affected2)</code></pre><p>Store the indicies in both <code>affected1</code> and <code>affected2</code> in <code>affected1</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L23-L27">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.affected_pixels-Tuple{AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting.affected_pixels-Tuple{AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.affected_pixels</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">affected_pixels(bad)</code></pre><p>Store the first indicies where <code>bad</code>` is true</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L9-L13">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.aic-Tuple{Int64, Real}" href="#StellarSpectraObservationFitting.aic-Tuple{Int64, Real}"><code>StellarSpectraObservationFitting.aic</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Akaike information criterion</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L114">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.aicc-Tuple{Int64, Real, Int64}" href="#StellarSpectraObservationFitting.aicc-Tuple{Int64, Real, Int64}"><code>StellarSpectraObservationFitting.aicc</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Akaike information criterion (corrected for small sample sizes)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L122">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.bic-Tuple{Int64, Real, Int64}" href="#StellarSpectraObservationFitting.bic-Tuple{Int64, Real, Int64}"><code>StellarSpectraObservationFitting.bic</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Bayesian information criterion</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L130">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.build_gp-Tuple{NamedTuple}" href="#StellarSpectraObservationFitting.build_gp-Tuple{NamedTuple}"><code>StellarSpectraObservationFitting.build_gp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">build_gp(params)</code></pre><p>Builds a Matern 5/2 TemporalGPs GP</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1006-L1010">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.calculate_initial_model-Tuple{StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.calculate_initial_model-Tuple{StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.calculate_initial_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">calculate_initial_model(data; kwargs...)</code></pre><p>Find a SSOF model for a given dataset, <code>data</code>. Defaults to returning the AIC-minimum model</p><p><strong>Optional arguments</strong></p><ul><li><code>instrument::String=&quot;None&quot;</code>: The name of the instrument(s) the data was taken from. For bookkeeping</li><li><code>desired_order::Int=0</code>: What order (if any) the data was taken from. For bookkeeping</li><li><code>star::String=&quot;None&quot;</code>: The name of the star the data was taken from. For bookkeeping</li><li><code>times::AbstractVector=1:size(data.flux, 2)</code>: The list of times (in days). Used to calculate intra-night RMS</li><li><code>μ_min::Real=0</code>: Set the minimum flux value for the output of <code>make_template()</code></li><li><code>μ_max::Real=Inf</code>: Set the maximum flux value for the output of <code>make_template()</code></li><li><code>use_mean::Bool=true</code>: Whether to use the mean or median for <code>make_template()</code></li><li><code>stop_early::Bool=false</code>: Whether to stop the model search the first time adding a component increases the AIC</li><li><code>remove_reciprocal_continuum::Bool=false</code>: Whether you should attempt to remove places where the telluric template and stellar template are opposing each other (i.e. where continuum goes up in one and down in the other)</li><li><code>return_full_path::Bool=false</code>: Whether to return all of the searched models and metrics</li><li><code>max_n_tel::Int=5</code>: The maximum amount of telluric feature vectors to look for</li><li><code>max_n_star::Int=5</code>: The maximum amount of stellar feature vectors to look for</li><li><code>use_all_comps::Bool=false</code>: Whether to use all feature vectors, regardless of AIC</li><li><code>careful_first_step::Bool=true</code>: Whether to shrink the learning rates until the loss improves on the first iteration</li><li><code>speed_up::Bool=false</code>: Whether to inflate the learning rates until the loss is no longer improving throughout the optimization</li><li><code>log_λ_gp_star::Real=1/SOAP_gp_params.λ</code>: The log λ lengthscale of the stellar regularization GP</li><li><code>log_λ_gp_tel::Real=1/LSF_gp_params.λ</code>: The log λ lengthscale of the telluric regularization GP</li><li><code>kwargs...</code>: kwargs passed to <code>OrderModel</code> constructor</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1194-L1219">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.check_converged-Tuple{StellarSpectraObservationFitting.AdamState, Real, Real, Real}" href="#StellarSpectraObservationFitting.check_converged-Tuple{StellarSpectraObservationFitting.AdamState, Real, Real, Real}"><code>StellarSpectraObservationFitting.check_converged</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_converged(as, f_reltol, g_reltol, g_L∞tol)</code></pre><p>Check to see if the Adam optimization has coverged based on the change in loss or its gradient</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L521-L525">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.check_for_valid_regularization-Tuple{Dict{Symbol, var&quot;#s157&quot;} where var&quot;#s157&quot;&lt;:Real}" href="#StellarSpectraObservationFitting.check_for_valid_regularization-Tuple{Dict{Symbol, var&quot;#s157&quot;} where var&quot;#s157&quot;&lt;:Real}"><code>StellarSpectraObservationFitting.check_for_valid_regularization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">check_for_valid_regularization(reg)</code></pre><p>Make sure all the keys in <code>reg</code> are in SSOF.<em>key</em>list</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L171-L175">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.choose_reg_and_ℓ-Tuple{Vector{Symbol}, StellarSpectraObservationFitting.OrderModel, Symbol, Vector{var&quot;#s156&quot;} where var&quot;#s156&quot;&lt;:Real, Vector{var&quot;#s155&quot;} where var&quot;#s155&quot;&lt;:Real, Int64}" href="#StellarSpectraObservationFitting.choose_reg_and_ℓ-Tuple{Vector{Symbol}, StellarSpectraObservationFitting.OrderModel, Symbol, Vector{var&quot;#s156&quot;} where var&quot;#s156&quot;&lt;:Real, Vector{var&quot;#s155&quot;} where var&quot;#s155&quot;&lt;:Real, Int64}"><code>StellarSpectraObservationFitting.choose_reg_and_ℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">choose_reg_and_ℓ(reg_fields, om, reg_key, reg_hold, ℓs, j)</code></pre><p>Set the <code>reg_key</code> regularization for <code>om</code> once the local minimum is found</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L135-L139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.copy_reg!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.copy_reg!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.copy_reg!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">copy_reg!(from, to)</code></pre><p>Copy the regularizations from one OrderModel to another</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1403-L1407">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.create_λ_template-Tuple{AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.create_λ_template-Tuple{AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.create_λ_template</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">create_λ_template(log_λ_obs; upscale=1.)</code></pre><p>Creating a uniform grid of log wavelengths for the SSOF models to be evaluated on</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L312-L316">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.downsize-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}" href="#StellarSpectraObservationFitting.downsize-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}"><code>StellarSpectraObservationFitting.downsize</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">downsize(lm, n_comp)</code></pre><p>Create a smaller version of <code>lm</code> that only copies some amount of the feature vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L857-L861">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.downsize_view-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}" href="#StellarSpectraObservationFitting.downsize_view-Tuple{StellarSpectraObservationFitting.FullLinearModel, Int64}"><code>StellarSpectraObservationFitting.downsize_view</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">downsize(lm, n_comp)</code></pre><p>Create a smaller view of <code>lm</code> that can only see some amount of the feature vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L889-L893">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_bootstrap-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.estimate_σ_bootstrap-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_bootstrap(mws; n=50, return_holders=false, recalc_mean=false, multithread=nthreads() &gt; 3, verbose=true)</code></pre><p>Estimate the uncertainties (and potentially covariances) for the RVs and scores in <code>mws</code> based on looking at the distribution of best-fit parameters after re-injecting photon noise. Slower than <code>estimate_σ_curvature()</code>, but more reliable.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L183-L188">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_bootstrap_helper!-Tuple{AbstractMatrix{T} where T, Any, Any, Int64, StellarSpectraObservationFitting.ModelWorkspace, AbstractMatrix{T} where T, Int64}" href="#StellarSpectraObservationFitting.estimate_σ_bootstrap_helper!-Tuple{AbstractMatrix{T} where T, Any, Any, Int64, StellarSpectraObservationFitting.ModelWorkspace, AbstractMatrix{T} where T, Int64}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap_helper!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_bootstrap_helper!(rv_holder, tel_holder, star_holder, i, mws, data_noise, n; verbose=true)</code></pre><p>Refit the RVs and scores after re-injecting photon noise and store the results in <code>rv_holder</code>, <code>tel_holder</code>, and <code>star_holder</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L161-L165">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_bootstrap_reducer-Tuple{AbstractArray, AbstractArray, Function}" href="#StellarSpectraObservationFitting.estimate_σ_bootstrap_reducer-Tuple{AbstractArray, AbstractArray, Function}"><code>StellarSpectraObservationFitting.estimate_σ_bootstrap_reducer</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_bootstrap_reducer(shaper, holder, reducer)</code></pre><p>Apply <code>reducer</code> on the first axis of <code>holder</code> and store the results in an array the shape of <code>shaper</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L147-L151">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_curvature-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.estimate_σ_curvature-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.estimate_σ_curvature</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_curvature(mws; kwargs...)</code></pre><p>Estimate the uncertainties for the RVs and scores in <code>mws</code> based on the local curvature of the loss function. Faster than <code>estimate_σ_bootstrap()</code>, but less reliable from ignoring cross terms in the Hessian.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L102-L107">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_curvature_helper-Tuple{AbstractVecOrMat{T} where T, Function}" href="#StellarSpectraObservationFitting.estimate_σ_curvature_helper-Tuple{AbstractVecOrMat{T} where T, Function}"><code>StellarSpectraObservationFitting.estimate_σ_curvature_helper</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_curvature_helper(x, ℓ; n=7, use_gradient=false, multithread=nthreads() &gt; 3, print_every=10, kwargs...)</code></pre><p>Estimate the uncertainties for the best-fit parameters <code>x</code> for ~Gaussian function <code>ℓ</code> based on the local curvature</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L4-L8">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.estimate_σ_curvature_helper_finalizer!-Tuple{AbstractVecOrMat{T} where T, AbstractVector{T} where T, AbstractVector{T} where T, Int64}" href="#StellarSpectraObservationFitting.estimate_σ_curvature_helper_finalizer!-Tuple{AbstractVecOrMat{T} where T, AbstractVector{T} where T, AbstractVector{T} where T, Int64}"><code>StellarSpectraObservationFitting.estimate_σ_curvature_helper_finalizer!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">estimate_σ_curvature_helper_finalizer!(σs, _ℓs, x_test, i; use_gradient=false, param_str=&quot;&quot;, print_every=10, verbose=false, show_plots=false)</code></pre><p>Calculate uncertanties (filling <code>σs</code>) based on the <code>_ℓs</code> calculated at <code>x_test</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/error_estimation.jl#L72-L76">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.eval_regularization-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting.eval_regularization-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.eval_regularization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">eval_regularization(reg_fields, reg_key, reg_val, mws, training_inds, testing_inds; kwargs...)</code></pre><p>Setting regularizaiton values for a copy of <code>mws.om</code> then training it on the training data and evaluating <code>_loss()</code> on the testing data after optimizing the RVs and scores</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L18-L22">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fill_OrderModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel, Any, Any}" href="#StellarSpectraObservationFitting.fill_OrderModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.OrderModel, Any, Any}"><code>StellarSpectraObservationFitting.fill_OrderModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fill_OrderModel!(om1, om2, inds_tel, inds_star)</code></pre><p>Replace the models in <code>om1</code> with those in <code>om2</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1176-L1180">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fill_StarModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.FullLinearModel}" href="#StellarSpectraObservationFitting.fill_StarModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.fill_StarModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fill_StarModel!(om, lm; inds=2:size(lm.M, 2))</code></pre><p>Replace the stellar model in <code>om</code> with <code>lm</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1150-L1154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fill_TelModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.LinearModel}" href="#StellarSpectraObservationFitting.fill_TelModel!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.LinearModel}"><code>StellarSpectraObservationFitting.fill_TelModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fill_TelModel!(om, lm)</code></pre><p>Replace the telluric model in <code>om</code> with <code>lm</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1139-L1143">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.finalize_scores!-Tuple{Function, StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.finalize_scores!-Tuple{Function, StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finalize_scores!(score_trainer, mws)</code></pre><p>Run <code>score_trainer</code> and update the output in <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1123-L1127">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.finalize_scores!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.finalize_scores!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finalize_scores!(mws; kwargs...)</code></pre><p>Optimize the scores in <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1135-L1139">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.finalize_scores_setup-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.finalize_scores_setup-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.finalize_scores_setup</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">finalize_scores_setup(mws; verbose=_verbose_def, f_tol=_f_reltol_def_s, g_tol=_g_L∞tol_def_s, careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Create a function that optimizes the model scores with Optim</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1095-L1099">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.first_iterate!-Tuple{Function, Real, Vector{var&quot;#s16&quot;} where var&quot;#s16&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}" href="#StellarSpectraObservationFitting.first_iterate!-Tuple{Function, Real, Vector{var&quot;#s16&quot;} where var&quot;#s16&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.first_iterate!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">first_iterate!(l, l0, θs, θ, ∇θ, opt; ind=[], verbose=false)</code></pre><p>Perform an ADAM optimization step based on the contents of <code>opt</code> on <code>θ</code> and decreases the learning rate to ensure the loss actually decreases</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L430-L434">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.fit_regularization!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fit_regularization!(mws, testing_inds; key_list=_key_list_fit, share_regs=false, kwargs...)</code></pre><p>Fit all of the regularization values in <code>key_list</code> for the model in <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L186-L190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.fit_regularization!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.fit_regularization!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fit_regularization!(mws; verbose=true, testing_ratio=0.33, careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Find the best fit model without regularization then fit all of the regularization values in <code>key_list</code> for the model in <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L227-L231">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.fit_regularization_helper!-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T, Real, Real, Real}" href="#StellarSpectraObservationFitting.fit_regularization_helper!-Tuple{Vector{Symbol}, Symbol, Real, StellarSpectraObservationFitting.ModelWorkspace, AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T, Real, Real, Real}"><code>StellarSpectraObservationFitting.fit_regularization_helper!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">fit_regularization_helper!(reg_fields, reg_key, before_ℓ, mws, training_inds, testing_inds, test_factor, reg_min, reg_max; start=10e3, cullable=Symbol[], robust_start=true, thres=8, kwargs...)</code></pre><p>Setting <code>reg_key</code> values in each Dict in mws.om.x (where x is each symbol in <span>$reg_fields$</span>) for a copy of <code>mws.om</code> then training it on the training data and evaluating <code>_loss()</code> on the testing data after optimizing the RVs and scores</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L32-L36">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.flip_feature_vectors!-Tuple{StellarSpectraObservationFitting.FullLinearModel}" href="#StellarSpectraObservationFitting.flip_feature_vectors!-Tuple{StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.flip_feature_vectors!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">flip_feature_vectors!(lm)</code></pre><p>Make each feature vector&#39;s median value negative</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1117-L1121">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.get_marginal_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.get_marginal_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.get_marginal_GP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_marginal_GP(finite_GP, ys, xs)</code></pre><p>Marginalizes a TemporalGPs GP on <code>ys</code> and <code>xs</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L978-L982">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.get_mean_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.get_mean_GP-Tuple{Distributions.Distribution{Distributions.Multivariate, Distributions.Continuous}, AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.get_mean_GP</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">get_mean_GP(finite_GP, ys, xs)</code></pre><p>Gets the mean of the posterior of a TemporalGPs GP</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L993-L997">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_Δℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_Δℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_Δℓ(y, A_k, Σ_k, H_k, P∞; kwargs...)</code></pre><p>Calculate the gradient of <code>gp_ℓ()</code> w.r.t. <code>y</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L204-L208">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_Δℓ_coefficients-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_Δℓ_coefficients-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_coefficients</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_Δℓ_coefficients(n, A_k, Σ_k; H_k=H_k, P∞=P∞, sparsity=0, kwargs...)</code></pre><p>Precalculate coefficients that can be used to calculate gradient of <code>gp_ℓ()</code> w.r.t. <code>y</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L229-L233">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_Δℓ_helper_K-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_Δℓ_helper_K-Tuple{Int64, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_helper_K</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_Δℓ_helper_K(n, A_k, Σ_k, H_k, P∞; σ²_meas=_σ²_meas_def)</code></pre><p>Precalculate all of the <code>K</code> matrices for at each time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L158-L162">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_Δℓ_helper_γ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_Δℓ_helper_γ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_Δℓ_helper_γ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_Δℓ_helper_γ(y, A_k, Σ_k, H_k, P∞; σ²_meas=_σ²_meas_def)</code></pre><p>Precalculate all of the <code>γ</code> values for at each time</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L181-L185">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_ℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_ℓ-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_ℓ(y, A_k, Σ_k; σ²_meas=_σ²_meas_def, H_k=H_k, P∞=P∞)</code></pre><p>Getting the posterior likelihood that <code>y</code> is from a LTISDE described by <code>A_k</code> and <code>Σ_k</code>, equivalent to a GP</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L88-L92">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_ℓ_nabla-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_ℓ_nabla-Tuple{Any, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ_nabla</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_ℓ_nabla(y, A_k, Σ_k; σ²_meas=_σ²_meas_def, H_k=H_k, P∞=P∞)</code></pre><p>Getting the posterior likelihood that <code>y</code> is from a LTISDE described by <code>A_k</code> and <code>Σ_k</code>, equivalent to a GP. Same as <code>gp_ℓ()</code> but removing things that Nabla doesn&#39;t like</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L124-L129">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.gp_ℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.gp_ℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.gp_ℓ_precalc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_ℓ_precalc(ℓ_coeff, x, A_k, Σ_k; kwargs...)</code></pre><p>A version of <code>gp_ℓ()</code> using the coefficients calculated by <code>gp_Δℓ_coefficients()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L263-L267">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.improve_initial_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.improve_initial_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.improve_initial_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">improve_initial_model!(mws; careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Train the model in <code>mws</code> with an extra step to ensure we are at a local maximum for the scores and RVs Defaults to taking a careful first step</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1185-L1190">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.improve_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.improve_model!-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.improve_model!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">improve_model!(mws; verbose=true, kwargs...)</code></pre><p>Train the model in <code>mws</code> with an extra step to ensure we are at a local maximum for the scores and RVs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1173-L1177">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.insert_and_dedup!-Tuple{Vector{T} where T, Any}" href="#StellarSpectraObservationFitting.insert_and_dedup!-Tuple{Vector{T} where T, Any}"><code>StellarSpectraObservationFitting.insert_and_dedup!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">	insert_and_dedup!(v, x)</code></pre><p>Insert <code>x</code> into sorted list <code>v</code> without duplicates</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L1-L5">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.intra_night_std-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.intra_night_std-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.intra_night_std</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">intra_night_std(rvs, times; thres=3, show_warn=true)</code></pre><p>Calculates the intra-night std for <code>rvs</code> time series observed at <code>times</code> (in days)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L13-L17">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.iterate!-Tuple{AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}" href="#StellarSpectraObservationFitting.iterate!-Tuple{AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.iterate!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">iterate!(θ, ∇θ, opt)</code></pre><p>Perform an ADAM optimization step based on the contents of <code>opt</code> on <code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L325-L329">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.log_lm-Tuple{StellarSpectraObservationFitting.TemplateModel}" href="#StellarSpectraObservationFitting.log_lm-Tuple{StellarSpectraObservationFitting.TemplateModel}"><code>StellarSpectraObservationFitting.log_lm</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Whether a LinearModel is log linear</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L395">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.loss_func-Tuple{StellarSpectraObservationFitting.ModelWorkspace}" href="#StellarSpectraObservationFitting.loss_func-Tuple{StellarSpectraObservationFitting.ModelWorkspace}"><code>StellarSpectraObservationFitting.loss_func</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loss_func(mws; include_priors=false)</code></pre><p>Create a loss function for the model and data in <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L70-L74">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.loss_funcs_frozen_tel-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.loss_funcs_frozen_tel-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_frozen_tel</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loss_funcs_frozen_tel(o, om, d)</code></pre><p>Create loss functions for changing 	- the stellar templates, features, and scores and telluric scores 	- the telluric and stellar scores and RVs</p><p>Used to fit models with a set telluric model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L201-L209">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.loss_funcs_telstar-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.loss_funcs_telstar-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_telstar</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loss_funcs_telstar(o, om, d)</code></pre><p>Create loss functions for changing 	- the telluric and stellar templates, features, and scores 	- the telluric and stellar scores 	- the RVs</p><p>Used to fit scores efficiently with L-BFGS</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L84-L93">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.loss_funcs_total-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.loss_funcs_total-Tuple{StellarSpectraObservationFitting.Output, StellarSpectraObservationFitting.OrderModelDPCA, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.loss_funcs_total</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">loss_funcs_total(o, om, d)</code></pre><p>Create loss functions for changing 	- the telluric and stellar templates, features, and scores 	- the telluric and stellar scores and RVs</p><p>Used to fit models with ADAM</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L128-L136">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.mask!-Tuple{AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting.mask!-Tuple{AbstractVecOrMat{T} where T, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.mask!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask!(var, bad_inds; using_weights=false)</code></pre><p>Setting <code>var</code> to reflect that the pixels at <code>bad_inds</code> should be masked</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L36-L40">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.mask_stellar_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}" href="#StellarSpectraObservationFitting.mask_stellar_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}"><code>StellarSpectraObservationFitting.mask_stellar_feature!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_stellar_feature!(var, log_λ_star, log_λ_low, log_λ_high; verbose=true, inverse=false, kwargs...)</code></pre><p>Masking where <code>log_λ_star</code> is between (or outside if <code>inverse</code>=true) <code>log_λ_low</code> and <code>log_λ_high</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L74-L78">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.mask_stellar_pixel!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Int64}" href="#StellarSpectraObservationFitting.mask_stellar_pixel!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Int64}"><code>StellarSpectraObservationFitting.mask_stellar_pixel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_stellar_pixel!(var, log_λ_star, log_λ_star_bounds, i; padding=0, verbose=true, kwargs...)</code></pre><p>Masking a pixel in the stellar frame to prevent different lines from coming in at different times</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L116-L120">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.mask_telluric_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}" href="#StellarSpectraObservationFitting.mask_telluric_feature!-Tuple{AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, Real, Real}"><code>StellarSpectraObservationFitting.mask_telluric_feature!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">mask_stellar_feature!(var, log_λ_obs, log_λ_star, log_λ_low, log_λ_high; verbose=true, include_bary_shifts=true, kwargs...)</code></pre><p>Masking where <code>log_λ_obs</code> is between <code>log_λ_low</code> and <code>log_λ_high</code>.  Can also perform in the stellar frame to prevent different lines from coming in at different times with <code>include_bary_shifts</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/mask_functions.jl#L93-L98">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.model_prior-Tuple{Any, StellarSpectraObservationFitting.OrderModel, Symbol}" href="#StellarSpectraObservationFitting.model_prior-Tuple{Any, StellarSpectraObservationFitting.OrderModel, Symbol}"><code>StellarSpectraObservationFitting.model_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model_prior(lm, om, key)</code></pre><p>Calulate the model prior on <code>lm</code> with the regularization terms in <code>om.reg_</code> * <code>key</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1211-L1215">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.model_s_prior-Tuple{Any, Dict}" href="#StellarSpectraObservationFitting.model_s_prior-Tuple{Any, Dict}"><code>StellarSpectraObservationFitting.model_s_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">model_s_prior(s, reg)</code></pre><p>Add an L2 term to the scores if there are any regularization terms applied to the feature vectors</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1252-L1256">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.no_tellurics-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.no_tellurics-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.no_tellurics</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">no_tellurics(model)</code></pre><p>Figure out whether a <code>model</code> uses its telluric model</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1414-L1418">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.opt_funcs-Tuple{Function, AbstractVecOrMat{T} where T}" href="#StellarSpectraObservationFitting.opt_funcs-Tuple{Function, AbstractVecOrMat{T} where T}"><code>StellarSpectraObservationFitting.opt_funcs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">opt_funcs(loss, pars)</code></pre><p>Create an objective object for Optim from <code>loss</code> that uses a flattened verison of <code>pars</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L773-L777">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.oversamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.oversamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.oversamp_interp_helper</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">oversamp_interp_helper(to_bounds, from_x)</code></pre><p>Finding the coefficients to integrate the model between observed pixel bounds</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L573-L577">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.ratio_clarifier_string-Tuple{Real}" href="#StellarSpectraObservationFitting.ratio_clarifier_string-Tuple{Real}"><code>StellarSpectraObservationFitting.ratio_clarifier_string</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ratio_clarifier_string(ratio)</code></pre><p>Convert <code>ratio</code> to a nice 3 digit-rounded string</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/regularization_functions.jl#L150-L154">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.recalc_total!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.GenericData}" href="#StellarSpectraObservationFitting.recalc_total!-Tuple{StellarSpectraObservationFitting.OutputDPCA, StellarSpectraObservationFitting.GenericData}"><code>StellarSpectraObservationFitting.recalc_total!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">recalc_total!(o, d)</code></pre><p>Recalulates the current outputs for the total model at the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1330-L1334">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.remove_lm_score_means!-Tuple{StellarSpectraObservationFitting.FullLinearModel}" href="#StellarSpectraObservationFitting.remove_lm_score_means!-Tuple{StellarSpectraObservationFitting.FullLinearModel}"><code>StellarSpectraObservationFitting.remove_lm_score_means!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">remove_lm_score_means!(lm; prop=0.)</code></pre><p>Recenter the scores in <code>lm</code> around 0</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1084-L1088">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.reset_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.reset_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.reset_regularization!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">reset_regularization!(om)</code></pre><p>Reset all of the keys in the regularization Dicts to the default values</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L815-L819">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.rm_dict!-Tuple{Dict}" href="#StellarSpectraObservationFitting.rm_dict!-Tuple{Dict}"><code>StellarSpectraObservationFitting.rm_dict!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rm_dict!(d)</code></pre><p>Remove all keys in a Dict</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L773-L777">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.rm_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.rm_regularization!-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.rm_regularization!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rm_regularization!(om)</code></pre><p>Remove all of the keys in the regularization Dicts</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L785-L789">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.rv_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}" href="#StellarSpectraObservationFitting.rv_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.rv_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rv_model(om; lm=om.rv.lm)</code></pre><p>Gets RV model interpolated onto the observed wavelengths (used by OrderModelDPCA)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L955-L959">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.rv_to_D-Tuple{Any}" href="#StellarSpectraObservationFitting.rv_to_D-Tuple{Any}"><code>StellarSpectraObservationFitting.rv_to_D</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rv_to_D(v)</code></pre><p>Approximately converting an RV to a Doppler shift <code>D ≡ log(λ1/λ0)</code> in log-wavelength space using <code>(λ1-λ0)/λ0 = λ1/λ0 - 1 = e^D - 1 ≈ β = v / c</code> (with an extra negative sign from somewhere)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L37-L41">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.rvs-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}" href="#StellarSpectraObservationFitting.rvs-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.rvs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">rvs(model)</code></pre><p>Get RVs (in m/s) from an OrderModel The negative sign is only in the DPCA version because of how SSOF was originally coded</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L847-L852">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.scale_α_helper!-Tuple{StellarSpectraObservationFitting.Adam, Real, AbstractVecOrMat{T} where T, Real, Bool}" href="#StellarSpectraObservationFitting.scale_α_helper!-Tuple{StellarSpectraObservationFitting.Adam, Real, AbstractVecOrMat{T} where T, Real, Bool}"><code>StellarSpectraObservationFitting.scale_α_helper!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">scale_α_helper!(opt, α_ratio, θ, α, scale_α)</code></pre><p>Optionally scale <code>opt.α</code> based on the amplitudes in <code>θ</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L551-L555">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.shared_attention-Tuple{Any}" href="#StellarSpectraObservationFitting.shared_attention-Tuple{Any}"><code>StellarSpectraObservationFitting.shared_attention</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">shared_attention(M)</code></pre><p>Ad-hoc regularization that punishes feature vectors with power in the same place</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1200-L1204">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, StellarSpectraObservationFitting.StellarInterpolationHelper}" href="#StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, StellarSpectraObservationFitting.StellarInterpolationHelper}"><code>StellarSpectraObservationFitting.spectra_interp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spectra_interp(model_flux, rvs, sih)</code></pre><p>Interpolate the stellar model to the data using the lower inds in <code>sih</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L141-L145">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractVector{T} where T, SparseArrays.SparseMatrixCSC}" href="#StellarSpectraObservationFitting.spectra_interp-Tuple{AbstractVector{T} where T, SparseArrays.SparseMatrixCSC}"><code>StellarSpectraObservationFitting.spectra_interp</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">spectra_interp(model, interp_helper)</code></pre><p>Interpolates <code>model</code> using the interoplation described by <code>interp_helper</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L920-L924">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.speed_up_iterate!-Tuple{Function, Vector{var&quot;#s17&quot;} where var&quot;#s17&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}" href="#StellarSpectraObservationFitting.speed_up_iterate!-Tuple{Function, Vector{var&quot;#s17&quot;} where var&quot;#s17&quot;&lt;:AbstractArray, AbstractArray{Float64, N} where N, AbstractArray{Float64, N} where N, StellarSpectraObservationFitting.Adam}"><code>StellarSpectraObservationFitting.speed_up_iterate!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">speed_up_iterate!(l, θs, θ, ∇θ, opt; ind=[], verbose=false)</code></pre><p>Perform an ADAM optimization step based on the contents of <code>opt</code> on <code>θ</code> and increases the learning rate to attempt to speed up the optimization</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L474-L478">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.star_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}" href="#StellarSpectraObservationFitting.star_model-Tuple{StellarSpectraObservationFitting.OrderModelDPCA}"><code>StellarSpectraObservationFitting.star_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">star_model(om; lm=om.star.lm)</code></pre><p>Gets stellar model interpolated onto the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L946-L950">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.star_prior-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.star_prior-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.star_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">star_prior(om)</code></pre><p>Calulate the stellar model prior on <code>om.star.lm</code> with the regularization terms in <code>om.star_tel</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1273-L1277">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.tel_model-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.tel_model-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.tel_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tel_model(om; lm=om.tel.lm)</code></pre><p>Gets telluric model interpolated onto the observed wavelengths</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L938-L942">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.tel_prior-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.tel_prior-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.tel_prior</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">tel_prior(om)</code></pre><p>Calulate the telluric model prior on <code>om.tel.lm</code> with the regularization terms in <code>om.reg_tel</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1265-L1269">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.total_length-Tuple{StellarSpectraObservationFitting.AdamWorkspace}" href="#StellarSpectraObservationFitting.total_length-Tuple{StellarSpectraObservationFitting.AdamWorkspace}"><code>StellarSpectraObservationFitting.total_length</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_length(mws)</code></pre><p>Calculates the number of parameters of <code>mws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L3-L7">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.total_model-Tuple{Any, Any, Any}" href="#StellarSpectraObservationFitting.total_model-Tuple{Any, Any, Any}"><code>StellarSpectraObservationFitting.total_model</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">total_model(tel, star)</code></pre><p>Multiply the telluric and stellar models</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L1282-L1286">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.AdamWorkspace}" href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.AdamWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_OrderModel!(mws; ignore_regularization=false, verbose=_verbose_def, shift_scores=true, μ_positive=true, tel_μ_lt1=false, rm_doppler=true, kwargs...)</code></pre><p>Train the model in <code>mws</code> with some optional modifications to the optimization (ignore<em>regularization, shift</em>score, μ<em>positive, tel</em>μ<em>lt1, rm</em>doppler)</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L691-L695">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTelStarWorkspace}" href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTelStarWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_OrderModel!(ow::OptimTelStarWorkspace; verbose=_verbose_def, iter=_iter_def, f_tol=_f_reltol_def, g_tol=_g_L∞tol_def, train_telstar=true, ignore_regularization=false, μ_positive=false, careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Train the model in <code>ow</code>, training the telluric and stellar parameters, then the RVs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L953-L957">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTotalWorkspace}" href="#StellarSpectraObservationFitting.train_OrderModel!-Tuple{StellarSpectraObservationFitting.OptimTotalWorkspace}"><code>StellarSpectraObservationFitting.train_OrderModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_OrderModel!(ow::OptimTelStarWorkspace; verbose=_verbose_def, iter=_iter_def, f_tol=_f_reltol_def, g_tol=_g_L∞tol_def, train_telstar=true, ignore_regularization=false, μ_positive=false, careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Train the model in <code>ow</code>, training the telluric and stellar parameters, then the RVs</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1010-L1014">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.train_SubModel!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}" href="#StellarSpectraObservationFitting.train_SubModel!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}"><code>StellarSpectraObservationFitting.train_SubModel!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_SubModel!(aws; iter=_iter_def, f_reltol=_f_reltol_def, g_reltol=_g_reltol_def, g_L∞tol=_g_L∞tol_def, cb=(as::AdamState)-&gt;(), careful_first_step=true, speed_up=false, kwargs...)</code></pre><p>Train the model parameters in <code>aws</code> for up to <code>iter</code> Adam iterations until it converges based on <code>check_converged()</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L533-L537">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.train_rvs_optim!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, AbstractVector{T} where T, Function}" href="#StellarSpectraObservationFitting.train_rvs_optim!-Tuple{StellarSpectraObservationFitting.OptimSubWorkspace, AbstractVector{T} where T, Function}"><code>StellarSpectraObservationFitting.train_rvs_optim!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">train_rvs_optim!(rv_ws, rv, optim_cb; g_tol=_g_L∞tol_def_s, f_tol=_f_reltol_def_s, iter=_iter_def, ignore_regularization=false, μ_positive=false, kwargs...)</code></pre><p>Train the RVs from the <code>rv_ws</code> with Optim</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1069-L1073">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.undersamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}" href="#StellarSpectraObservationFitting.undersamp_interp_helper-Tuple{AbstractVector{T} where T, AbstractVector{T} where T}"><code>StellarSpectraObservationFitting.undersamp_interp_helper</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">undersamp_interp_helper(to_x, from_x)</code></pre><p>Finding the coefficients to linear interpolate the model at observed pixel locations</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L615-L619">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.update!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}" href="#StellarSpectraObservationFitting.update!-Tuple{StellarSpectraObservationFitting.AdamSubWorkspace}"><code>StellarSpectraObservationFitting.update!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update!(aws; careful_first_step=true, speed_up=false)</code></pre><p>Perform an ADAM optimization step for the model parameters in <code>aws</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L406-L410">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.update_interpolation_locations!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}" href="#StellarSpectraObservationFitting.update_interpolation_locations!-Tuple{StellarSpectraObservationFitting.OrderModel, StellarSpectraObservationFitting.Data}"><code>StellarSpectraObservationFitting.update_interpolation_locations!</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">update_interpolation_locations!(om, d; use_mean=false)</code></pre><p>Make sure the linear iterpolation locations for going from the stellar model to the data are correct as the RVs change</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/optimization_functions.jl#L1149-L1153">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.zero_regularization-Tuple{StellarSpectraObservationFitting.OrderModel}" href="#StellarSpectraObservationFitting.zero_regularization-Tuple{StellarSpectraObservationFitting.OrderModel}"><code>StellarSpectraObservationFitting.zero_regularization</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">zero_regularization(om; include_L1_factor=false)</code></pre><p>Zero-out all of the keys in the regularization Dicts</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_functions.jl#L796-L800">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.Δℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}" href="#StellarSpectraObservationFitting.Δℓ_precalc-Tuple{AbstractMatrix{T} where T, AbstractVector{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T, AbstractMatrix{T} where T}"><code>StellarSpectraObservationFitting.Δℓ_precalc</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">gp_ℓ_precalc(ℓ_coeff, x, A_k, Σ_k; kwargs...)</code></pre><p>Calculate the gradient of <code>gp_ℓ_precalc()</code> w.r.t. <code>y</code></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/prior_gp_functions.jl#L272-L276">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.ℓ-Tuple{Real, Real, Int64}" href="#StellarSpectraObservationFitting.ℓ-Tuple{Real, Real, Int64}"><code>StellarSpectraObservationFitting.ℓ</code></a> — <span class="docstring-category">Method</span></header><section><div><p>Gaussian log-likelihood function</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L112">source</a></section></article><article class="docstring"><header><a class="docstring-binding" id="StellarSpectraObservationFitting.ℓ_prereqs-Tuple{Matrix{T} where T}" href="#StellarSpectraObservationFitting.ℓ_prereqs-Tuple{Matrix{T} where T}"><code>StellarSpectraObservationFitting.ℓ_prereqs</code></a> — <span class="docstring-category">Method</span></header><section><div><pre><code class="language-julia hljs">ℓ_prereqs(vars)</code></pre><p>Calculate some terms needed to calculate the log-likelihood</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/christiangil/StellarSpectraObservationFitting.jl/blob/dec7afe697d8a16cddb75990d0de92688c7398e1/src/model_selection_functions.jl#L101-L105">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../general/">« Utility functions</a><a class="docs-footer-nextpage" href="../LICENSE/">LICENSE »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 0.27.24 on <span class="colophon-date" title="Monday 10 April 2023 14:31">Monday 10 April 2023</span>. Using Julia version 1.6.7.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
